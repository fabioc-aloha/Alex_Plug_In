name: Validate Markdown Links

on:
    push:
        branches: [main, develop]
        paths:
            - "**.md"
    pull_request:
        paths:
            - "**.md"
    workflow_dispatch:

jobs:
    markdown-link-check:
        name: Check Markdown Links
        runs-on: ubuntu-latest

        steps:
            - name: Checkout repository
              uses: actions/checkout@v6

            - name: Check links in markdown files
              uses: gaurav-nelson/github-action-markdown-link-check@v1
              with:
                  use-quiet-mode: "yes"
                  use-verbose-mode: "no"
                  config-file: ".github/markdown-link-check-config.json"

    markdownlint:
        name: Lint Markdown
        runs-on: ubuntu-latest

        steps:
            - name: Checkout repository
              uses: actions/checkout@v6

            - name: Run markdownlint
              uses: DavidAnson/markdownlint-cli2-action@v16
              with:
                  globs: |
                      **/*.md
                      !**/node_modules/**
                      !**/archive/**
