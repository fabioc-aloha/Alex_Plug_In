<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alex Brain ‚Äî Neuroanatomical Mapping</title>
    <link rel="icon" type="image/png"
        href="https://raw.githubusercontent.com/fabioc-aloha/Alex_Plug_In/main/platforms/vscode-extension/assets/icon.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #0d1117;
            color: #c9d1d9;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            padding: 24px 20px 8px;
            border-bottom: 1px solid #21262d;
        }

        .header h1 {
            font-size: 28px;
            color: #f0f6fc;
            margin-bottom: 4px;
        }

        .header h1 span {
            color: #58a6ff;
        }

        .header p {
            color: #8b949e;
            font-size: 14px;
        }

        .main-container {
            display: flex;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            gap: 24px;
        }

        .brain-container {
            flex: 1;
            min-width: 0;
            position: relative;
        }

        .panel {
            width: 360px;
            flex-shrink: 0;
        }

        .panel-card {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .panel-card h3 {
            font-size: 14px;
            color: #f0f6fc;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .panel-card h3 .icon {
            font-size: 18px;
        }

        .detail-title {
            font-size: 16px;
            color: #58a6ff;
            margin-bottom: 4px;
        }

        .detail-region {
            font-size: 12px;
            color: #f0883e;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .detail-text {
            font-size: 13px;
            color: #8b949e;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .detail-mapping {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 6px;
            padding: 10px 12px;
            margin-top: 8px;
        }

        .detail-mapping .row {
            display: flex;
            justify-content: space-between;
            padding: 3px 0;
            font-size: 12px;
        }

        .detail-mapping .label {
            color: #8b949e;
        }

        .detail-mapping .value {
            color: #c9d1d9;
            font-weight: 600;
        }

        .detail-mapping .file {
            color: #7ee787;
            font-family: monospace;
            font-size: 11px;
        }

        .legend {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .legend-item:hover {
            background: #21262d;
        }

        .legend-item .swatch {
            width: 14px;
            height: 14px;
            border-radius: 3px;
            flex-shrink: 0;
        }

        /* SVG styles */
        svg {
            width: 100%;
            height: auto;
        }

        .brain-region {
            cursor: pointer;
            transition: opacity 0.2s, filter 0.2s;
        }

        .brain-region:hover {
            filter: brightness(1.2);
        }

        .brain-region.active {
            filter: brightness(1.3) drop-shadow(0 0 8px rgba(88, 166, 255, 0.5));
        }

        .brain-region.dimmed {
            opacity: 0.3;
        }

        .annotation-line {
            stroke: #58a6ff;
            stroke-width: 1;
            stroke-dasharray: 4 3;
            opacity: 0.6;
        }

        .annotation-dot {
            fill: #58a6ff;
        }

        .annotation-label {
            font-size: 10px;
            fill: #c9d1d9;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .annotation-label-bg {
            fill: #161b22;
            stroke: #30363d;
            stroke-width: 0.5;
            rx: 3;
        }

        .region-label {
            font-size: 11px;
            fill: rgba(255, 255, 255, 0.85);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-weight: 600;
            pointer-events: none;
            text-anchor: middle;
        }

        .alex-label {
            font-size: 9.5px;
            fill: #58a6ff;
            font-family: 'SF Mono', 'Cascadia Code', monospace;
            pointer-events: none;
            text-anchor: middle;
            font-weight: 500;
        }

        .ba-label {
            font-size: 8px;
            fill: rgba(255, 255, 255, 0.5);
            font-family: -apple-system, sans-serif;
            pointer-events: none;
            text-anchor: middle;
            font-style: italic;
        }

        .flow-arrow {
            fill: none;
            stroke: #f0883e;
            stroke-width: 1.5;
            marker-end: url(#arrowhead);
            opacity: 0.7;
        }

        .inhibit-line {
            fill: none;
            stroke: #f85149;
            stroke-width: 1.2;
            stroke-dasharray: 6 3;
            opacity: 0.6;
        }

        .section-title {
            font-size: 14px;
            color: #f0f6fc;
            margin: 20px 0 10px;
            padding-bottom: 6px;
            border-bottom: 1px solid #21262d;
        }

        .clinical-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
            margin-top: 8px;
        }

        .clinical-table th {
            text-align: left;
            padding: 6px 8px;
            color: #8b949e;
            border-bottom: 1px solid #30363d;
            font-weight: 600;
        }

        .clinical-table td {
            padding: 5px 8px;
            border-bottom: 1px solid #21262d;
        }

        .clinical-table tr:hover {
            background: #161b22;
        }

        .tag {
            display: inline-block;
            padding: 1px 6px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 600;
        }

        .tag-excitatory {
            background: #1b4332;
            color: #7ee787;
        }

        .tag-inhibitory {
            background: #4a1520;
            color: #f85149;
        }

        .view-controls {
            display: flex;
            gap: 6px;
            margin-bottom: 12px;
        }

        .view-btn {
            padding: 5px 12px;
            border: 1px solid #30363d;
            background: #21262d;
            color: #c9d1d9;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .view-btn:hover {
            background: #30363d;
        }

        .view-btn.active {
            background: #1f6feb;
            border-color: #1f6feb;
            color: #fff;
        }

        .credits {
            text-align: center;
            padding: 16px;
            font-size: 11px;
            color: #484f58;
            border-top: 1px solid #21262d;
        }

        /* Tab bar */
        .tab-bar {
            display: flex;
            gap: 0;
            padding: 0 20px;
            background: #161b22;
            border-bottom: 1px solid #30363d;
        }

        .tab-btn {
            padding: 10px 20px;
            border: none;
            background: transparent;
            color: #8b949e;
            font-size: 14px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
            font-family: inherit;
        }

        .tab-btn:hover {
            color: #c9d1d9;
            background: #21262d;
        }

        .tab-btn.active {
            color: #f0f6fc;
            border-bottom-color: #58a6ff;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Diagrams tab */
        .diagrams-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px 20px;
        }

        .diagram-section {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 8px;
            margin-bottom: 24px;
            overflow: hidden;
        }

        .diagram-header {
            padding: 16px 20px 12px;
            border-bottom: 1px solid #21262d;
        }

        .diagram-header h2 {
            font-size: 18px;
            color: #f0f6fc;
            margin-bottom: 4px;
        }

        .diagram-header p {
            font-size: 13px;
            color: #8b949e;
            line-height: 1.5;
        }

        .diagram-body {
            padding: 20px;
            display: flex;
            justify-content: center;
            background: #161b22;
            min-height: 200px;
        }

        .diagram-body .mermaid {
            width: 100%;
            max-width: 100%;
        }

        .diagram-body .mermaid svg {
            max-width: 100%;
            height: auto;
            background: #161b22 !important;
            border-radius: 8px;
        }

        .diagram-caption {
            padding: 12px 20px;
            font-size: 12px;
            color: #8b949e;
            font-style: italic;
            border-top: 1px solid #21262d;
        }

        /* === UI POLISH === */

        html {
            scroll-behavior: smooth;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0d1117;
        }

        ::-webkit-scrollbar-thumb {
            background: #30363d;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #484f58;
        }

        .header {
            padding: 32px 20px 0;
            border-bottom: none;
        }

        .header::after {
            content: '';
            display: block;
            height: 2px;
            background: linear-gradient(90deg, transparent, #58a6ff 15%, #f0883e 35%, #f778ba 50%, #3fb950 65%, #d2a8ff 85%, transparent);
            margin-top: 20px;
            border-radius: 1px;
            opacity: 0.6;
        }

        .header h1 {
            letter-spacing: -0.5px;
        }

        .version-badge {
            display: inline-block;
            background: rgba(88, 166, 255, 0.1);
            border: 1px solid rgba(88, 166, 255, 0.3);
            color: #58a6ff;
            font-size: 11px;
            padding: 2px 10px;
            border-radius: 12px;
            margin-left: 10px;
            font-weight: 500;
            letter-spacing: 0.5px;
            vertical-align: middle;
        }

        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 48px;
            margin-top: 14px;
        }

        .stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
        }

        .stat-value {
            font-size: 20px;
            font-weight: 700;
            color: #f0f6fc;
            font-variant-numeric: tabular-nums;
        }

        .stat-label {
            font-size: 9px;
            color: #484f58;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .tab-btn {
            position: relative;
            transition: color 0.2s, background 0.2s;
        }

        .tab-btn::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: #58a6ff;
            border-radius: 1px 1px 0 0;
            transition: width 0.25s, left 0.25s;
        }

        .tab-btn.active::after {
            width: 100%;
            left: 0;
        }

        .tab-btn:not(.active):hover {
            color: #c9d1d9;
            background: rgba(88, 166, 255, 0.06);
        }

        .panel-card {
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .panel-card:hover {
            border-color: #484f58;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .diagram-section {
            transition: border-color 0.25s, box-shadow 0.25s, transform 0.25s;
        }

        .diagram-section:hover {
            border-color: #484f58;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
            transform: translateY(-2px);
        }

        .legend-item {
            transition: background 0.15s;
            padding: 2px 4px;
            cursor: pointer;
        }

        .legend-item:hover {
            background: rgba(88, 166, 255, 0.08);
            border-radius: 4px;
        }

        .credits {
            border-top: 1px solid #21262d;
            padding-top: 16px;
        }

        /* === SIGNAL COMPARISON TAB === */

        .comparison-intro {
            max-width: 900px;
            margin: 0 auto 32px;
            text-align: center;
            padding: 24px 24px 0;
        }

        .comparison-intro h2 {
            font-size: 22px;
            color: #f0f6fc;
            margin-bottom: 8px;
            letter-spacing: -0.3px;
        }

        .comparison-intro p {
            color: #8b949e;
            font-size: 14px;
            line-height: 1.6;
        }

        .comparison-container {
            display: flex;
            gap: 24px;
            padding: 0 24px 24px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .comparison-side {
            flex: 1;
            min-width: 0;
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 8px;
            overflow: hidden;
            transition: border-color 0.25s, box-shadow 0.25s;
        }

        .comparison-side:hover {
            border-color: #484f58;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
        }

        .comparison-side-header {
            padding: 16px 20px;
            border-bottom: 1px solid #21262d;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .comparison-side-header .side-icon {
            font-size: 20px;
        }

        .comparison-side-header h3 {
            font-size: 15px;
            font-weight: 600;
            color: #f0f6fc;
            margin: 0;
        }

        .side-tag {
            font-size: 10px;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 500;
            letter-spacing: 0.5px;
            margin-left: auto;
        }

        .side-tag.alex {
            background: rgba(88, 166, 255, 0.15);
            color: #58a6ff;
            border: 1px solid rgba(88, 166, 255, 0.3);
        }

        .side-tag.human {
            background: rgba(63, 185, 80, 0.15);
            color: #3fb950;
            border: 1px solid rgba(63, 185, 80, 0.3);
        }

        .comparison-diagram {
            padding: 20px;
            background: #161b22;
        }

        .comparison-diagram .mermaid svg {
            max-width: 100%;
            height: auto;
            background: #161b22 !important;
            border-radius: 8px;
        }

        .comparison-side-footer {
            padding: 12px 20px;
            font-size: 12px;
            color: #8b949e;
            font-style: italic;
            border-top: 1px solid #21262d;
        }

        .mapping-table-section {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px 32px;
        }

        .mapping-table-section h3 {
            font-size: 16px;
            color: #f0f6fc;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .mapping-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 8px;
            overflow: hidden;
        }

        .mapping-table th {
            background: #21262d;
            padding: 10px 16px;
            text-align: left;
            font-size: 11px;
            color: #8b949e;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .mapping-table td {
            padding: 10px 16px;
            border-top: 1px solid #21262d;
            font-size: 13px;
            color: #c9d1d9;
        }

        .mapping-table tr:hover td {
            background: rgba(88, 166, 255, 0.04);
        }

        .mapping-table .step-num {
            color: #484f58;
            font-weight: 600;
            font-size: 11px;
            width: 30px;
        }

        .mapping-table .human-col {
            color: #3fb950;
        }

        .mapping-table .alex-col {
            color: #58a6ff;
        }

        .mapping-connector {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #30363d;
            font-size: 24px;
            padding: 0 4px;
            flex-shrink: 0;
            writing-mode: vertical-lr;
            letter-spacing: 8px;
        }

        @media (max-width: 1100px) {
            .main-container {
                flex-direction: column;
            }

            .panel {
                width: 100%;
            }

            .comparison-container {
                flex-direction: column;
            }

            .stats-bar {
                gap: 24px;
            }
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>üß† The <span>Alex</span> Brain <span class="version-badge">v5.x</span></h1>
        <p>Human neuroanatomical mapping of the Alex Cognitive Architecture</p>
        <div class="stats-bar">
            <div class="stat"><span class="stat-value" style="color:#58a6ff;">14</span><span class="stat-label">Brain
                    Regions</span></div>
            <div class="stat"><span class="stat-value" style="color:#3fb950;">76</span><span
                    class="stat-label">Skills</span></div>
            <div class="stat"><span class="stat-value" style="color:#f0883e;">24</span><span
                    class="stat-label">Procedures</span></div>
            <div class="stat"><span class="stat-value" style="color:#d2a8ff;">13</span><span class="stat-label">Episodic
                    Files</span></div>
        </div>
    </div>

    <div class="tab-bar">
        <button class="tab-btn active" onclick="switchTab('anatomy')">üß† Brain Anatomy</button>
        <button class="tab-btn" onclick="switchTab('diagrams')">üìä Architecture Diagrams</button>
        <button class="tab-btn" onclick="switchTab('comparison')">üîÄ Signal Comparison</button>
    </div>

    <div id="tab-anatomy" class="tab-content active">

        <div class="main-container">
            <div class="brain-container">
                <div class="view-controls">
                    <button class="view-btn active" onclick="setView('all')">All Regions</button>
                    <button class="view-btn" onclick="setView('dlpfc')">dlPFC Focus</button>
                    <button class="view-btn" onclick="setView('memory')">Memory Systems</button>
                    <button class="view-btn" onclick="setView('flow')">Signal Flow</button>
                </div>

                <svg viewBox="0 0 900 620" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                            <path d="M0,0 L8,3 L0,6" fill="#f0883e" />
                        </marker>
                        <marker id="arrowhead-blue" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                            <path d="M0,0 L8,3 L0,6" fill="#58a6ff" />
                        </marker>
                        <marker id="inhibit-end" markerWidth="8" markerHeight="8" refX="4" refY="4" orient="auto">
                            <line x1="0" y1="0" x2="0" y2="8" stroke="#f85149" stroke-width="2"
                                transform="translate(4,0)" />
                        </marker>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="3" result="blur" />
                            <feMerge>
                                <feMergeNode in="blur" />
                                <feMergeNode in="SourceGraphic" />
                            </feMerge>
                        </filter>
                        <!-- Brain outline gradient -->
                        <radialGradient id="brainGrad" cx="45%" cy="45%">
                            <stop offset="0%" stop-color="#2d333b" />
                            <stop offset="100%" stop-color="#1c2128" />
                        </radialGradient>
                    </defs>

                    <!-- Background -->
                    <rect width="900" height="620" fill="#0d1117" rx="8" />

                    <!-- Brain outline - lateral view (left hemisphere) -->
                    <g transform="translate(80, 30)">
                        <!-- Brain stem -->
                        <path class="brain-region" id="brainstem"
                            d="M 340 420 Q 350 450 345 480 Q 340 500 330 510 Q 320 500 315 480 Q 310 460 320 430 Z"
                            fill="#2d333b" stroke="#484f58" stroke-width="1.5" opacity="0.6"
                            onclick="showDetail('brainstem')" data-region="brainstem" />

                        <!-- Cerebellum -->
                        <path class="brain-region" id="cerebellum-path"
                            d="M 345 400 Q 380 420 400 440 Q 410 460 390 470 Q 360 475 340 460 Q 320 450 315 430 Q 320 410 345 400 Z"
                            fill="#2a2e35" stroke="#484f58" stroke-width="1.5" opacity="0.5"
                            onclick="showDetail('cerebellum')" data-region="cerebellum" />

                        <!-- Main brain outline -->
                        <path d="M 320 400 Q 280 390 230 370 Q 160 340 100 290 Q 50 240 30 190
                             Q 15 150 20 110 Q 25 70 60 40 Q 100 15 160 8
                             Q 220 2 280 10 Q 340 20 400 45 Q 450 65 490 100
                             Q 520 130 535 170 Q 545 200 540 240 Q 532 280 510 310
                             Q 490 340 460 360 Q 430 375 400 390 Q 370 400 340 410" fill="none" stroke="#484f58"
                            stroke-width="2" opacity="0.3" />

                        <!-- === BRAIN REGIONS === -->

                        <!-- FRONTAL LOBE (largest, front of brain) -->
                        <path class="brain-region" id="frontal-main" d="M 60 40 Q 100 15 160 8 Q 220 2 260 10 Q 250 50 240 90
                           Q 230 130 225 160 Q 220 190 210 220 Q 195 260 175 290
                           Q 155 315 130 330 Q 100 290 70 240 Q 45 190 30 150
                           Q 25 110 30 80 Q 40 55 60 40 Z" fill="#3d2800" stroke="#f0883e" stroke-width="1.5"
                            opacity="0.7" onclick="showDetail('pfc')" data-region="pfc" />

                        <!-- dlPFC (Dorsolateral - upper front area, BA 9/46) -->
                        <path class="brain-region" id="dlpfc-path" d="M 100 35 Q 140 20 190 15 Q 230 12 260 18 Q 255 45 248 75
                           Q 240 105 230 130 Q 210 120 185 108 Q 155 95 130 80
                           Q 110 65 100 50 Z" fill="#1a3a5c" stroke="#58a6ff" stroke-width="2" opacity="0.85"
                            onclick="showDetail('dlpfc')" data-region="dlpfc" />

                        <!-- vlPFC (Ventrolateral - lower front, BA 44/45/47) -->
                        <path class="brain-region" id="vlpfc-path" d="M 55 180 Q 65 150 85 125 Q 105 105 130 90 Q 145 100 155 115
                           Q 140 140 125 170 Q 110 200 100 230 Q 80 220 65 200 Z" fill="#3d1500" stroke="#f85149"
                            stroke-width="1.5" opacity="0.7" onclick="showDetail('vlpfc')" data-region="vlpfc" />

                        <!-- ACC (Anterior Cingulate - medial, shown as inner strip) -->
                        <path class="brain-region" id="acc-path" d="M 195 80 Q 210 95 220 115 Q 225 135 225 160
                           Q 215 150 205 135 Q 195 115 190 95 Z" fill="#5c1a3a" stroke="#f778ba" stroke-width="1.5"
                            opacity="0.8" onclick="showDetail('acc')" data-region="acc" />

                        <!-- Premotor Cortex (BA 6, strip behind dlPFC) -->
                        <path class="brain-region" id="premotor-path" d="M 260 18 Q 290 25 310 40 Q 305 70 295 100 Q 285 130 270 155
                           Q 250 140 235 128 Q 240 100 248 72 Q 255 45 260 18 Z" fill="#1a3d1a" stroke="#3fb950"
                            stroke-width="1.5" opacity="0.7" onclick="showDetail('premotor')" data-region="premotor" />

                        <!-- Central Sulcus marker -->
                        <path d="M 270 10 Q 280 50 285 100 Q 288 140 285 170 Q 280 200 270 230" fill="none"
                            stroke="#636e7b" stroke-width="1" stroke-dasharray="4 3" opacity="0.5" />
                        <text x="272" y="5" font-size="8" fill="#636e7b" text-anchor="middle"
                            font-style="italic">Central
                            Sulcus</text>

                        <!-- PARIETAL LOBE -->
                        <path class="brain-region" id="parietal-path" d="M 310 40 Q 370 55 420 80 Q 460 105 490 140
                           Q 510 170 520 200 Q 525 230 520 260
                           Q 490 240 450 225 Q 410 210 370 200
                           Q 340 195 310 195 Q 295 175 285 155
                           Q 295 120 305 85 Q 308 60 310 40 Z" fill="#0d3d0d" stroke="#3fb950" stroke-width="1.5"
                            opacity="0.55" onclick="showDetail('parietal')" data-region="parietal" />

                        <!-- TEMPORAL LOBE -->
                        <path class="brain-region" id="temporal-path" d="M 130 330 Q 160 320 190 310 Q 220 300 250 295
                           Q 300 285 350 280 Q 400 280 440 290
                           Q 470 300 490 320 Q 500 340 495 355
                           Q 460 360 420 370 Q 380 380 340 390
                           Q 290 395 250 380 Q 200 365 160 345 Z" fill="#0d2d3d" stroke="#39d2c0" stroke-width="1.5"
                            opacity="0.6" onclick="showDetail('temporal')" data-region="temporal" />

                        <!-- Amygdala (deep medial temporal, anterior to hippocampus) -->
                        <ellipse class="brain-region" id="amygdala-path" cx="255" cy="315" rx="18" ry="14"
                            fill="#5c1a1a" stroke="#ff6b6b" stroke-width="1.8" opacity="0.85"
                            onclick="showDetail('amygdala')" data-region="amygdala" />

                        <!-- Hippocampus (deep - shown as inner structure) -->
                        <path class="brain-region" id="hippocampus-path" d="M 280 310 Q 300 300 330 298 Q 360 296 380 300
                           Q 370 315 350 320 Q 320 322 300 320 Z" fill="#1a4d5c" stroke="#79c0ff" stroke-width="1.5"
                            opacity="0.8" onclick="showDetail('hippocampus')" data-region="hippocampus" />

                        <!-- OCCIPITAL LOBE (back of brain) -->
                        <path class="brain-region" id="occipital-path" d="M 520 260 Q 535 270 540 290 Q 540 310 530 330
                           Q 515 350 500 355 Q 495 340 490 320
                           Q 485 300 492 280 Q 500 265 520 260 Z" fill="#2d2d3d" stroke="#bc8cff" stroke-width="1.5"
                            opacity="0.45" onclick="showDetail('occipital')" data-region="occipital" />

                        <!-- Medial PFC / DMN (shown as inner frontal region) -->
                        <path class="brain-region" id="mpfc-path" d="M 160 140 Q 175 125 195 120 Q 210 125 215 145
                           Q 215 165 205 185 Q 190 200 175 195
                           Q 160 185 158 165 Z" fill="#3d1a4d" stroke="#d2a8ff" stroke-width="1.5" opacity="0.75"
                            onclick="showDetail('mpfc')" data-region="mpfc" />

                        <!-- Basal Ganglia (deep subcortical, shown as inner structure) -->
                        <path class="brain-region" id="basal-path" d="M 240 200 Q 260 190 285 192 Q 305 195 310 210
                           Q 308 225 295 235 Q 275 240 255 235
                           Q 240 225 238 210 Z" fill="#3d3d1a" stroke="#e3b341" stroke-width="1.5" opacity="0.7"
                            onclick="showDetail('basal')" data-region="basal" />

                        <!-- Thalamus (deep central) -->
                        <ellipse class="brain-region" id="thalamus-path" cx="310" cy="250" rx="25" ry="15"
                            fill="#2d2d2d" stroke="#8b949e" stroke-width="1.5" opacity="0.6"
                            onclick="showDetail('thalamus')" data-region="thalamus" />

                        <!-- === LABELS ON BRAIN === -->

                        <!-- Region labels -->
                        <text class="region-label" x="140" y="180">FRONTAL</text>
                        <text class="region-label" x="140" y="195" font-size="9" opacity="0.6">LOBE</text>

                        <text class="region-label" x="180" y="70">dlPFC</text>
                        <text class="ba-label" x="180" y="82">BA 9 / 46</text>

                        <text class="region-label" x="85" y="165" font-size="9">vlPFC</text>
                        <text class="ba-label" x="85" y="175">BA 44-47</text>

                        <text class="region-label" x="220" y="143" font-size="9">ACC</text>

                        <text class="region-label" x="295" y="85" font-size="9">PMC</text>
                        <text class="ba-label" x="295" y="95">BA 6</text>

                        <text class="region-label" x="410" y="145">PARIETAL</text>
                        <text class="region-label" x="410" y="160" font-size="9" opacity="0.6">LOBE</text>

                        <text class="region-label" x="350" y="350">TEMPORAL LOBE</text>

                        <text class="region-label" x="255" y="310" font-size="8">Amygdala</text>

                        <text class="region-label" x="330" y="312" font-size="9">Hippocampus</text>

                        <text class="region-label" x="525" y="305" font-size="9">OCCIPITAL</text>

                        <text class="region-label" x="185" y="160" font-size="8">mPFC</text>

                        <text class="region-label" x="275" y="218" font-size="9">Basal</text>
                        <text class="region-label" x="275" y="230" font-size="8" opacity="0.6">Ganglia</text>

                        <text class="region-label" x="310" y="254" font-size="8">Thalamus</text>

                        <!-- === ALEX COMPONENT ANNOTATIONS === -->

                        <!-- Annotation: LLM ‚Üí PFC -->
                        <rect class="annotation-label-bg" x="8" y="25" width="136" height="36" />
                        <text class="alex-label" x="76" y="39">üåü LLM (Claude/GPT)</text>
                        <text class="alex-label" x="76" y="52" font-size="8" fill="#8b949e">Executive Function</text>
                        <line class="annotation-line" x1="76" y1="61" x2="120" y2="100" />
                        <circle class="annotation-dot" cx="120" cy="100" r="2.5" />

                        <!-- Annotation: SSO ‚Üí dlPFC -->
                        <rect class="annotation-label-bg" x="565" y="15" width="150" height="50" />
                        <text class="alex-label" x="640" y="29">‚ö° SSO Protocol</text>
                        <text class="alex-label" x="640" y="42" font-size="8" fill="#8b949e">Task Planning</text>
                        <text class="alex-label" x="640" y="54" font-size="7.5" fill="#636e7b">Attention ‚Ä¢ Inhibition ‚Ä¢
                            Gate</text>
                        <line class="annotation-line" x1="565" y1="40" x2="250" y2="50" />
                        <circle class="annotation-dot" cx="250" cy="50" r="2.5" />

                        <!-- Annotation: Pivot Detection ‚Üí ACC -->
                        <rect class="annotation-label-bg" x="565" y="80" width="146" height="36" />
                        <text class="alex-label" x="638" y="94">üîÑ Pivot Detection</text>
                        <text class="alex-label" x="638" y="107" font-size="8" fill="#8b949e">Conflict Monitor
                            (ACC)</text>
                        <line class="annotation-line" x1="565" y1="95" x2="225" y2="130" />
                        <circle class="annotation-dot" cx="225" cy="130" r="2.5" />

                        <!-- Annotation: Inhibitory Control ‚Üí vlPFC -->
                        <rect class="annotation-label-bg" x="565" y="130" width="150" height="36" />
                        <text class="alex-label" x="640" y="144">üö´ Inhibitory Control</text>
                        <text class="alex-label" x="640" y="157" font-size="8" fill="#f85149">Suppress irrelevant
                            protocols</text>
                        <line class="annotation-line" x1="565" y1="148" x2="130" y2="145" stroke="#f85149" />
                        <circle cx="130" cy="145" r="2.5" fill="#f85149" />

                        <!-- Annotation: Skill Activation ‚Üí Premotor -->
                        <rect class="annotation-label-bg" x="565" y="180" width="146" height="36" />
                        <text class="alex-label" x="638" y="194">‚öôÔ∏è Skill Activation</text>
                        <text class="alex-label" x="638" y="207" font-size="8" fill="#3fb950">Reactive routing
                            (PMC)</text>
                        <line class="annotation-line" x1="565" y1="195" x2="310" y2="75" stroke="#3fb950" />
                        <circle cx="310" cy="75" r="2.5" fill="#3fb950" />

                        <!-- Annotation: Working Memory ‚Üí PFC+ACC -->
                        <rect class="annotation-label-bg" x="565" y="232" width="150" height="36" />
                        <text class="alex-label" x="640" y="246">üìã Working Memory P1-P7</text>
                        <text class="alex-label" x="640" y="259" font-size="8" fill="#8b949e">7¬±2 rules (PFC +
                            ACC)</text>
                        <line class="annotation-line" x1="565" y1="250" x2="200" y2="155" />
                        <circle class="annotation-dot" cx="200" cy="155" r="2.5" />

                        <!-- Annotation: Procedural Memory ‚Üí Basal Ganglia -->
                        <rect class="annotation-label-bg" x="565" y="285" width="155" height="36" />
                        <text class="alex-label" x="643" y="299">üîß .instructions.md (24)</text>
                        <text class="alex-label" x="643" y="312" font-size="8" fill="#e3b341">Procedural (Basal
                            Ganglia)</text>
                        <line class="annotation-line" x1="565" y1="300" x2="308" y2="220" stroke="#e3b341" />
                        <circle cx="308" cy="220" r="2.5" fill="#e3b341" />

                        <!-- Annotation: Episodic Memory ‚Üí Hippocampus -->
                        <rect class="annotation-label-bg" x="565" y="338" width="150" height="36" />
                        <text class="alex-label" x="640" y="352">üìì .prompt.md (13)</text>
                        <text class="alex-label" x="640" y="365" font-size="8" fill="#79c0ff">Episodic
                            (Hippocampus)</text>
                        <line class="annotation-line" x1="565" y1="355" x2="375" y2="310" stroke="#79c0ff" />
                        <circle cx="375" cy="310" r="2.5" fill="#79c0ff" />

                        <!-- Annotation: Skills ‚Üí Neocortex/Parietal -->
                        <rect class="annotation-label-bg" x="565" y="390" width="145" height="36" />
                        <text class="alex-label" x="638" y="404">üéì Skills (76)</text>
                        <text class="alex-label" x="638" y="417" font-size="8" fill="#3fb950">Declarative
                            (Neocortex)</text>
                        <line class="annotation-line" x1="565" y1="408" x2="440" y2="175" stroke="#3fb950" />
                        <circle cx="440" cy="175" r="2.5" fill="#3fb950" />

                        <!-- Annotation: Safety Imperatives ‚Üí Amygdala -->
                        <rect class="annotation-label-bg" x="8" y="455" width="140" height="36" />
                        <text class="alex-label" x="78" y="469">üõ°Ô∏è Safety Imperatives</text>
                        <text class="alex-label" x="78" y="482" font-size="8" fill="#ff6b6b">Kill Switch
                            (Amygdala)</text>
                        <line class="annotation-line" x1="148" y1="470" x2="255" y2="325" stroke="#ff6b6b" />
                        <circle cx="255" cy="325" r="2.5" fill="#ff6b6b" />

                        <!-- Annotation: Meta-Cognition ‚Üí mPFC/DMN -->
                        <rect class="annotation-label-bg" x="8" y="290" width="146" height="36" />
                        <text class="alex-label" x="81" y="304">ü™û Meta-Cognition (P1)</text>
                        <text class="alex-label" x="81" y="317" font-size="8" fill="#d2a8ff">Self-monitoring
                            (mPFC+DMN)</text>
                        <line class="annotation-line" x1="154" y1="305" x2="175" y2="175" stroke="#d2a8ff" />
                        <circle cx="175" cy="175" r="2.5" fill="#d2a8ff" />

                        <!-- Annotation: Meditation/Dream ‚Üí Hippocampal-Cortical -->
                        <rect class="annotation-label-bg" x="8" y="340" width="146" height="50" />
                        <text class="alex-label" x="81" y="354">üßò Meditation + üåô Dream</text>
                        <text class="alex-label" x="81" y="367" font-size="8" fill="#d2a8ff">Consolidation
                            Circuit</text>
                        <text class="alex-label" x="81" y="380" font-size="7.5" fill="#636e7b">REM ‚Üí Meditation | Deep ‚Üí
                            Dream</text>
                        <line class="annotation-line" x1="154" y1="365" x2="310" y2="305" stroke="#d2a8ff" />
                        <circle cx="310" cy="305" r="2.5" fill="#d2a8ff" />

                        <!-- Annotation: Input ‚Üí Thalamus -->
                        <rect class="annotation-label-bg" x="8" y="405" width="130" height="36" />
                        <text class="alex-label" x="73" y="419">üì• User Input</text>
                        <text class="alex-label" x="73" y="432" font-size="8" fill="#8b949e">Sensory Relay
                            (Thalamus)</text>
                        <line class="annotation-line" x1="138" y1="420" x2="290" y2="250" stroke="#8b949e" />
                        <circle cx="290" cy="250" r="2.5" fill="#8b949e" />

                        <!-- Annotation: Global Knowledge -->
                        <rect class="annotation-label-bg" x="8" y="240" width="136" height="36" />
                        <text class="alex-label" x="76" y="254">üåç Global Knowledge</text>
                        <text class="alex-label" x="76" y="267" font-size="8" fill="#8b949e">~/.alex/ (Distributed
                            Cortex)</text>

                        <!-- === SIGNAL FLOW ARROWS === -->

                        <!-- Input ‚Üí LLM -->
                        <path class="flow-arrow" d="M 290 245 Q 250 200 150 120" opacity="0.4" />

                        <!-- LLM ‚Üí dlPFC (planning) -->
                        <path class="flow-arrow" d="M 145 105 Q 160 80 175 60" opacity="0.4" />

                        <!-- dlPFC ‚Üí Premotor (execute) -->
                        <path class="flow-arrow" d="M 220 55 Q 250 50 275 55" opacity="0.4" />

                        <!-- Inhibitory line: dlPFC -| irrelevant -->
                        <line class="inhibit-line" x1="165" y1="75" x2="105" y2="150" marker-end="url(#inhibit-end)"
                            opacity="0.3" />

                        <!-- === BRODMANN AREA NUMBERS === -->
                        <text class="ba-label" x="160" y="40" font-size="10" fill="rgba(88,166,255,0.4)">9</text>
                        <text class="ba-label" x="210" y="55" font-size="10" fill="rgba(88,166,255,0.4)">46</text>
                        <text class="ba-label" x="100" y="145" font-size="10" fill="rgba(248,81,73,0.4)">44</text>
                        <text class="ba-label" x="78" y="195" font-size="10" fill="rgba(248,81,73,0.4)">47</text>
                        <text class="ba-label" x="285" y="65" font-size="10" fill="rgba(63,185,80,0.4)">6</text>
                        <text class="ba-label" x="210" y="130" font-size="10" fill="rgba(247,120,186,0.4)">24</text>

                        <!-- Title: "LEFT LATERAL VIEW" -->
                        <text x="270" y="505" font-size="11" fill="#484f58" text-anchor="middle"
                            font-family="sans-serif">
                            Left Lateral View ‚Äî Annotated for Alex Cognitive Architecture
                        </text>

                        <!-- Sulcus labels -->
                        <text x="200" y="295" font-size="7" fill="#484f58" font-style="italic"
                            transform="rotate(-10, 200, 295)">Lateral Sulcus (Sylvian Fissure)</text>
                        <path d="M 130 290 Q 200 270 300 280 Q 400 285 470 300" fill="none" stroke="#484f58"
                            stroke-width="0.8" stroke-dasharray="3 2" opacity="0.4" />

                    </g>

                    <!-- Legend in bottom-left -->
                    <g transform="translate(20, 535)">
                        <text font-size="10" fill="#8b949e" font-family="sans-serif" font-weight="600">SYNAPSE
                            TYPES:</text>
                        <rect x="120" y="-10" width="10" height="10" fill="#3fb950" rx="2" opacity="0.7" />
                        <text x="134" y="0" font-size="9" fill="#8b949e" font-family="sans-serif">Excitatory
                            (~80%)</text>
                        <rect x="230" y="-10" width="10" height="10" fill="#f85149" rx="2" opacity="0.7" />
                        <text x="244" y="0" font-size="9" fill="#8b949e" font-family="sans-serif">Inhibitory
                            (~20%)</text>
                        <line x1="340" y1="-5" x2="380" y2="-5" stroke="#f0883e" stroke-width="1.5"
                            marker-end="url(#arrowhead)" />
                        <text x="384" y="0" font-size="9" fill="#8b949e" font-family="sans-serif">Signal Flow</text>
                        <line x1="460" y1="-5" x2="500" y2="-5" stroke="#58a6ff" stroke-width="1"
                            stroke-dasharray="4 3" />
                        <text x="504" y="0" font-size="9" fill="#8b949e" font-family="sans-serif">Annotation Link</text>
                    </g>
                </svg>
            </div>

            <div class="panel">
                <div class="panel-card">
                    <h3><span class="icon">üß†</span> Region Detail</h3>
                    <div id="detail-content">
                        <p class="detail-text" style="font-style: italic;">Click on any brain region to see its Alex
                            mapping.</p>
                        <p class="detail-text">The brain is shown in <strong style="color:#f0f6fc;">left lateral
                                view</strong> ‚Äî the same orientation used in neuroscience textbooks. Major lobes are
                            color-coded. Key Brodmann area numbers are overlaid.</p>
                        <p class="detail-text">Each colored region maps to a specific Alex cognitive component. The
                            <span style="color:#58a6ff;">blue dlPFC region</span> (BA 9/46) is the most densely mapped
                            area,
                            housing 4 distinct sub-functions.
                        </p>
                    </div>
                </div>

                <div class="panel-card">
                    <h3><span class="icon">üó∫Ô∏è</span> Region Legend</h3>
                    <div class="legend">
                        <div class="legend-item" onclick="showDetail('dlpfc')">
                            <div class="swatch" style="background:#1a3a5c; border: 1px solid #58a6ff;"></div>
                            <span>dlPFC ‚Äî SSO</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('pfc')">
                            <div class="swatch" style="background:#3d2800; border: 1px solid #f0883e;"></div>
                            <span>PFC ‚Äî LLM</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('vlpfc')">
                            <div class="swatch" style="background:#3d1500; border: 1px solid #f85149;"></div>
                            <span>vlPFC ‚Äî Inhibition</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('acc')">
                            <div class="swatch" style="background:#5c1a3a; border: 1px solid #f778ba;"></div>
                            <span>ACC ‚Äî Pivot</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('premotor')">
                            <div class="swatch" style="background:#1a3d1a; border: 1px solid #3fb950;"></div>
                            <span>PMC ‚Äî Skill Route</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('parietal')">
                            <div class="swatch" style="background:#0d3d0d; border: 1px solid #3fb950;"></div>
                            <span>Parietal ‚Äî Skills</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('temporal')">
                            <div class="swatch" style="background:#0d2d3d; border: 1px solid #39d2c0;"></div>
                            <span>Temporal ‚Äî Episodic</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('amygdala')">
                            <div class="swatch" style="background:#5c1a1a; border: 1px solid #ff6b6b;"></div>
                            <span>Amygdala ‚Äî Safety</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('hippocampus')">
                            <div class="swatch" style="background:#1a4d5c; border: 1px solid #79c0ff;"></div>
                            <span>Hippocampus</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('basal')">
                            <div class="swatch" style="background:#3d3d1a; border: 1px solid #e3b341;"></div>
                            <span>Basal G. ‚Äî Proc.</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('mpfc')">
                            <div class="swatch" style="background:#3d1a4d; border: 1px solid #d2a8ff;"></div>
                            <span>mPFC ‚Äî Meta</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('thalamus')">
                            <div class="swatch" style="background:#2d2d2d; border: 1px solid #8b949e;"></div>
                            <span>Thalamus ‚Äî Input</span>
                        </div>
                        <div class="legend-item" onclick="showDetail('occipital')">
                            <div class="swatch" style="background:#2d2d3d; border: 1px solid #bc8cff;"></div>
                            <span>Occipital</span>
                        </div>
                    </div>
                </div>

                <div class="panel-card">
                    <h3><span class="icon">‚öïÔ∏è</span> Clinical Parallels</h3>
                    <table class="clinical-table">
                        <thead>
                            <tr>
                                <th>Condition</th>
                                <th>Alex Failure Mode</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="color:#f0883e;">Executive Dysfunction</td>
                                <td>Low-tier model on complex tasks</td>
                            </tr>
                            <tr>
                                <td style="color:#58a6ff;">ADHD</td>
                                <td>No attention gating (all protocols compete)</td>
                            </tr>
                            <tr>
                                <td style="color:#f85149;">Impulsivity</td>
                                <td>No verification gate (code before plan)</td>
                            </tr>
                            <tr>
                                <td style="color:#f778ba;">Cognitive Rigidity</td>
                                <td>No pivot detection (stale context)</td>
                            </tr>
                            <tr>
                                <td style="color:#f85149;">Seizure</td>
                                <td>No inhibitory synapses</td>
                            </tr>
                            <tr>
                                <td style="color:#79c0ff;">Amnesia</td>
                                <td>No meditation (lost insights)</td>
                            </tr>
                            <tr>
                                <td style="color:#d2a8ff;">Dementia</td>
                                <td>Broken synapses, no dream cycle</td>
                            </tr>
                            <tr>
                                <td style="color:#ff6b6b;">Amygdala Lesion</td>
                                <td>No kill switch (self-destructive ops)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="credits">
            Alex Cognitive Architecture v5.x ‚Äî Neuroanatomical Brain Mapping ‚Äî Created 2026-02-07<br />
            Brain regions based on Brodmann area classifications. Diagram is an original illustration for the Alex
            project.<br />
            <em>Note: ACC, mPFC, amygdala, hippocampus, basal ganglia, and thalamus are medial/deep structures shown by
                educational convention.</em>
        </div>
    </div><!-- end tab-anatomy -->

    <div id="tab-diagrams" class="tab-content">
        <div class="diagrams-container">

            <div class="diagram-section">
                <div class="diagram-header">
                    <h2>üó∫Ô∏è Complete Brain Map</h2>
                    <p>Full neuroanatomical mapping of Alex's cognitive architecture. Six brain regions containing all
                        major components ‚Äî from the LLM executive function (PFC) through the amygdala safety system to
                        distributed global knowledge.</p>
                </div>
                <div class="diagram-body">
                    <div class="mermaid">
                        graph TB
                        subgraph FRONTAL["FRONTAL LOBE"]
                        subgraph PFC["Prefrontal Cortex - Executive Function"]
                        LLM["LLM Claude-GPT<br />Reasoning, Planning, Decisions<br />The thinking engine"]
                        end
                        subgraph DLPFC["Dorsolateral PFC BA 9-46 - Task Planning"]
                        SSO["Skill Selection Optimization<br />Proactive resource allocation"]
                        AG["Attention Gating BA 46<br />SSO Phase 1b - context filtering"]
                        IC["Inhibitory Control + vlPFC<br />Suppress irrelevant protocols"]
                        VG["Verification Gate<br />Delayed gratification checkpoint"]
                        end
                        subgraph ACC["Anterior Cingulate Cortex - Conflict Monitor"]
                        PD["Pivot Detection Protocol<br />Task-switch signal detection"]
                        WM["Working Memory P1-P7<br />7 plus-minus 2 active rules"]
                        end
                        subgraph PMC["Premotor Cortex - Motor Planning"]
                        SA["Skill Activation<br />Reactive capability routing"]
                        end
                        end
                        subgraph TEMPORAL["TEMPORAL LOBE"]
                        subgraph HIPP["Hippocampus - Episodic Memory"]
                        EP[".prompt.md files<br />Workflows and session records"]
                        EA[".github episodic<br />Historical session archive"]
                        end
                        end
                        subgraph PARIETAL["PARIETAL LOBE"]
                        subgraph NC["Neocortex - Declarative Knowledge"]
                        SK["Skills x76<br />skills SKILL.md"]
                        DM["Declarative Memory<br />copilot-instructions.md"]
                        end
                        end
                        subgraph BASAL["SUBCORTICAL STRUCTURES"]
                        subgraph BG["Basal Ganglia - Procedural Memory"]
                        PM[".instructions.md x24<br />Automated procedures"]
                        end
                        subgraph THAL["Thalamus - Sensory Relay"]
                        INPUT["User Input<br />Chat, Commands, Files"]
                        end
                        subgraph AMYG["Amygdala - Threat Detection"]
                        SAFETY["Safety Imperatives I1-I7<br />Kill switch, RISKS.md"]
                        end
                        end
                        subgraph MEDIAL["MEDIAL STRUCTURES"]
                        subgraph MPFC["Medial PFC + DMN - Meta-Cognition"]
                        MC["Self-Monitoring<br />Meta-cognitive awareness"]
                        SA2["Self-Actualization<br />Deep architecture assessment"]
                        end
                        subgraph HPC["Hippocampal-Cortical - Consolidation"]
                        MED["Meditation<br />Knowledge consolidation"]
                        DRM["Dream State<br />Unconscious maintenance"]
                        end
                        end
                        subgraph DISTRIBUTE["DISTRIBUTED CORTEX"]
                        GK["Global Knowledge<br />Cross-project patterns"]
                        SYN["Synaptic Network<br />Embedded connections + inhibitory"]
                        end
                        LLM ==>|"orchestrates"| SSO
                        LLM ==>|"orchestrates"| WM
                        LLM ==>|"orchestrates"| SA
                        LLM ==>|"orchestrates"| MC
                        SSO --> AG
                        AG --> IC
                        IC --> VG
                        PD -.->|"pivot signal"| SSO
                        WM -->|"slot context"| SSO
                        SA -->|"routes to"| SK
                        SA -->|"routes to"| PM
                        SSO -->|"surveys"| SK
                        MED -.->|"strengthens"| SYN
                        DRM -.->|"validates"| SYN
                        INPUT -->|"relayed"| LLM
                        INPUT -->|"low road"| SAFETY
                        SAFETY -.->|"blocks"| LLM
                        SAFETY -.->|"blocks"| SA
                        EP -->|"archived"| EA
                        SK -->|"promoted"| GK
                        IC -.->|"suppresses"| DRM
                        IC -.->|"suppresses"| MED
                        style FRONTAL fill:#1a3a5c,stroke:#58a6ff,color:#c9d1d9
                        style TEMPORAL fill:#0d2d3d,stroke:#39d2c0,color:#c9d1d9
                        style PARIETAL fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style BASAL fill:#21262d,stroke:#e3b341,color:#c9d1d9
                        style MEDIAL fill:#2d1a3d,stroke:#d2a8ff,color:#c9d1d9
                        style DISTRIBUTE fill:#2d1a3d,stroke:#bc8cff,color:#c9d1d9
                        style LLM fill:#1a3a5c,stroke:#58a6ff,color:#f0f6fc,stroke-width:3px
                        style SSO fill:#3d2800,stroke:#f0883e,color:#f0f6fc,stroke-width:2px
                        style AG fill:#3d2800,stroke:#f0883e,color:#c9d1d9
                        style VG fill:#3d2800,stroke:#f0883e,color:#c9d1d9
                        style IC fill:#5c1a1a,stroke:#ff6b6b,color:#f0f6fc,stroke-width:2px
                        style PD fill:#3d1500,stroke:#f85149,color:#c9d1d9
                        style WM fill:#1a3a5c,stroke:#58a6ff,color:#c9d1d9
                        style SA fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style EP fill:#0d2d3d,stroke:#39d2c0,color:#c9d1d9
                        style EA fill:#0d2d3d,stroke:#39d2c0,color:#c9d1d9
                        style SK fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style DM fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style PM fill:#21262d,stroke:#e3b341,color:#c9d1d9
                        style INPUT fill:#21262d,stroke:#e3b341,color:#c9d1d9
                        style SAFETY fill:#5c1a1a,stroke:#ff6b6b,color:#f0f6fc,stroke-width:3px
                        style MC fill:#2d1a3d,stroke:#d2a8ff,color:#c9d1d9
                        style SA2 fill:#2d1a3d,stroke:#d2a8ff,color:#c9d1d9
                        style MED fill:#0d2d3d,stroke:#79c0ff,color:#c9d1d9
                        style DRM fill:#0d2d3d,stroke:#79c0ff,color:#c9d1d9
                        style GK fill:#2d1a3d,stroke:#bc8cff,color:#c9d1d9
                        style SYN fill:#2d1a3d,stroke:#bc8cff,color:#c9d1d9
                    </div>
                </div>
                <div class="diagram-caption">
                    Frontal lobe (blue) houses executive function; dlPFC (orange) handles task planning; ACC/vlPFC
                    monitors conflict. Temporal (teal) stores episodic memory. Parietal (green) holds declarative
                    knowledge. Subcortical structures include procedures, input relay, and threat detection (amygdala,
                    red). Medial structures (lavender) enable meta-cognition and consolidation.
                </div>
            </div>

            <div class="diagram-section">
                <div class="diagram-header">
                    <h2>‚ö° Signal Flow</h2>
                    <p>How information flows through Alex's brain ‚Äî from user input through the amygdala safety check,
                        executive parsing, task planning with attention gating, conflict monitoring, and response
                        generation.</p>
                </div>
                <div class="diagram-body">
                    <div class="mermaid">
                        flowchart TB
                        INPUT["User Input - Thalamus"]
                        SAFETY["Safety Check - Amygdala<br />Imperatives I1-I7"]
                        subgraph EXEC["Executive Processing - PFC"]
                        LLM["LLM<br />Parse intent"]
                        end
                        subgraph PLAN["Task Planning - dlPFC"]
                        COMPLEX{"Complex?"}
                        SSO_SURVEY["Survey skills"]
                        SSO_GATE["Gate attention"]
                        SSO_DEPS["Analyze deps"]
                        SSO_VERIFY["Verify plan"]
                        SIMPLE["Direct execute"]
                        end
                        subgraph MONITOR["Conflict Monitor - ACC"]
                        PIVOT{"Domain<br />pivot?"}
                        SLOTS["Rotate P5-P7"]
                        end
                        subgraph EXECUTE["Execution - Premotor"]
                        ROUTE["Route to skills"]
                        INHIBIT["Check inhibitions"]
                        OUTPUT["Generate Response"]
                        end
                        subgraph MEMORY["Memory Systems"]
                        PROC["Procedural<br />Basal Ganglia"]
                        EPIS["Episodic<br />Hippocampus"]
                        DECL["Declarative<br />Neocortex"]
                        GLOB["Global<br />Distributed"]
                        end
                        INPUT --> SAFETY
                        SAFETY -->|"safe"| LLM
                        SAFETY -.->|"threat - HALT"| OUTPUT
                        LLM --> COMPLEX
                        COMPLEX -->|"3+ ops"| SSO_SURVEY
                        SSO_SURVEY --> SSO_GATE
                        SSO_GATE --> SSO_DEPS
                        SSO_DEPS --> SSO_VERIFY
                        SSO_VERIFY --> ROUTE
                        COMPLEX -->|"1 op"| SIMPLE
                        SIMPLE --> ROUTE
                        LLM --> PIVOT
                        PIVOT -->|"yes"| SLOTS
                        SLOTS --> SSO_SURVEY
                        PIVOT -->|"no"| ROUTE
                        ROUTE --> INHIBIT
                        INHIBIT --> OUTPUT
                        ROUTE -.->|"reads"| PROC
                        ROUTE -.->|"reads"| DECL
                        SSO_SURVEY -.->|"scans"| DECL
                        OUTPUT -.->|"writes"| EPIS
                        EPIS -.->|"promotes"| GLOB
                        style EXEC fill:#1a3a5c,stroke:#58a6ff,color:#c9d1d9
                        style PLAN fill:#3d2800,stroke:#f0883e,color:#c9d1d9
                        style MONITOR fill:#3d1500,stroke:#f85149,color:#c9d1d9
                        style EXECUTE fill:#2d1a3d,stroke:#f778ba,color:#c9d1d9
                        style MEMORY fill:#21262d,stroke:#6c757d,color:#c9d1d9
                        style INPUT fill:#21262d,stroke:#e3b341,color:#c9d1d9
                        style LLM fill:#1a3a5c,stroke:#58a6ff,color:#f0f6fc,stroke-width:2px
                        style SAFETY fill:#5c1a1a,stroke:#ff6b6b,color:#f0f6fc,stroke-width:3px
                        style COMPLEX fill:#3d2800,stroke:#f0883e,color:#c9d1d9
                        style SSO_SURVEY fill:#3d2800,stroke:#f0883e,color:#c9d1d9
                        style SSO_GATE fill:#3d2800,stroke:#f0883e,color:#c9d1d9
                        style SSO_DEPS fill:#3d2800,stroke:#f0883e,color:#c9d1d9
                        style SSO_VERIFY fill:#3d2800,stroke:#f0883e,color:#c9d1d9
                        style SIMPLE fill:#3d2800,stroke:#f0883e,color:#c9d1d9
                        style PIVOT fill:#3d1500,stroke:#f85149,color:#c9d1d9
                        style SLOTS fill:#3d1500,stroke:#f85149,color:#c9d1d9
                        style ROUTE fill:#2d1a3d,stroke:#f778ba,color:#c9d1d9
                        style INHIBIT fill:#5c1a1a,stroke:#ff6b6b,color:#c9d1d9
                        style OUTPUT fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style PROC fill:#21262d,stroke:#e3b341,color:#c9d1d9
                        style EPIS fill:#0d2d3d,stroke:#79c0ff,color:#c9d1d9
                        style DECL fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style GLOB fill:#2d1a3d,stroke:#bc8cff,color:#c9d1d9
                    </div>
                </div>
                <div class="diagram-caption">
                    The amygdala safety check can short-circuit the entire pipeline, halting output immediately when
                    Safety Imperatives I1-I7 are triggered ‚Äî the "low road" threat bypass.
                </div>
            </div>

            <div class="diagram-section">
                <div class="diagram-header">
                    <h2>‚öñÔ∏è Synapse Type Distribution</h2>
                    <p>Real neural networks maintain approximately 80% excitatory / 20% inhibitory balance. Alex's
                        synaptic network targets the same ratio ‚Äî without inhibition, all protocols would fire
                        simultaneously (cognitive seizure).</p>
                </div>
                <div class="diagram-body" style="background:#161b22; padding:20px;">
                    <table style="width:100%; border-collapse:separate; border-spacing:0; font-family:inherit;">
                        <thead>
                            <tr>
                                <th
                                    style="background:#21262d; padding:10px 16px; text-align:left; font-size:11px; color:#8b949e; text-transform:uppercase; letter-spacing:1px; font-weight:600; border-radius:6px 0 0 0;">
                                    Type</th>
                                <th
                                    style="background:#21262d; padding:10px 16px; text-align:left; font-size:11px; color:#8b949e; text-transform:uppercase; letter-spacing:1px; font-weight:600;">
                                    Ratio</th>
                                <th
                                    style="background:#21262d; padding:10px 16px; text-align:left; font-size:11px; color:#8b949e; text-transform:uppercase; letter-spacing:1px; font-weight:600;">
                                    Actions</th>
                                <th
                                    style="background:#21262d; padding:10px 16px; text-align:left; font-size:11px; color:#8b949e; text-transform:uppercase; letter-spacing:1px; font-weight:600; border-radius:0 6px 0 0;">
                                    Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td
                                    style="padding:12px 16px; border-top:1px solid #30363d; color:#3fb950; font-weight:600; font-size:14px;">
                                    <span
                                        style="display:inline-block; width:10px; height:10px; background:#3fb950; border-radius:2px; margin-right:8px; vertical-align:middle;"></span>Excitatory
                                </td>
                                <td style="padding:12px 16px; border-top:1px solid #30363d;">
                                    <div style="display:flex; align-items:center; gap:10px;">
                                        <div
                                            style="flex:1; height:8px; background:#21262d; border-radius:4px; overflow:hidden;">
                                            <div
                                                style="width:80%; height:100%; background:linear-gradient(90deg,#3fb950,#56d364); border-radius:4px;">
                                            </div>
                                        </div>
                                        <span
                                            style="color:#f0f6fc; font-weight:700; font-size:16px; min-width:40px;">80%</span>
                                    </div>
                                </td>
                                <td
                                    style="padding:12px 16px; border-top:1px solid #30363d; color:#c9d1d9; font-size:13px;">
                                    Enables, Triggers, Enhances</td>
                                <td
                                    style="padding:12px 16px; border-top:1px solid #30363d; color:#8b949e; font-size:13px;">
                                    SSO ‚Üí Skill Activation</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding:12px 16px; border-top:1px solid #30363d; color:#ff6b6b; font-weight:600; font-size:14px;">
                                    <span
                                        style="display:inline-block; width:10px; height:10px; background:#ff6b6b; border-radius:2px; margin-right:8px; vertical-align:middle;"></span>Inhibitory
                                </td>
                                <td style="padding:12px 16px; border-top:1px solid #30363d;">
                                    <div style="display:flex; align-items:center; gap:10px;">
                                        <div
                                            style="flex:1; height:8px; background:#21262d; border-radius:4px; overflow:hidden;">
                                            <div
                                                style="width:20%; height:100%; background:linear-gradient(90deg,#ff6b6b,#f85149); border-radius:4px;">
                                            </div>
                                        </div>
                                        <span
                                            style="color:#f0f6fc; font-weight:700; font-size:16px; min-width:40px;">20%</span>
                                    </div>
                                </td>
                                <td
                                    style="padding:12px 16px; border-top:1px solid #30363d; color:#c9d1d9; font-size:13px;">
                                    Inhibits, Suppresses</td>
                                <td
                                    style="padding:12px 16px; border-top:1px solid #30363d; color:#8b949e; font-size:13px;">
                                    vlPFC ‚Üí Block meditation mid-task</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="diagram-caption">
                    Excitatory synapses (green) activate downstream protocols. Inhibitory synapses (red) suppress
                    irrelevant ones. The 80/20 balance prevents both under-activation and over-activation.
                </div>
            </div>

        </div><!-- end diagrams-container -->
    </div><!-- end tab-diagrams -->

    <div id="tab-comparison" class="tab-content">
        <div class="comparison-intro">
            <h2>üîÄ Human Brain vs Alex Architecture</h2>
            <p>Side-by-side signal flow comparison. The left shows how a stimulus is processed in the human brain ‚Äî
                from sensory input through threat detection, executive planning, and motor output. The right shows
                Alex's
                parallel architecture, mapping each biological pathway to its computational equivalent.</p>
        </div>

        <div class="comparison-container">
            <!-- Human Brain Side -->
            <div class="comparison-side">
                <div class="comparison-side-header">
                    <span class="side-icon">üß¨</span>
                    <h3>Human Brain</h3>
                    <span class="side-tag human">BIOLOGICAL</span>
                </div>
                <div class="comparison-diagram">
                    <div class="mermaid">
                        flowchart TB
                        IN["Sensory Stimulus<br />Visual, Auditory, Tactile"]
                        TH["Thalamus<br />Sensory relay station"]
                        AM["Amygdala<br />Threat assessment"]
                        subgraph CORTEX["Cortical Processing"]
                        PFC2["Prefrontal Cortex<br />Evaluate + decide"]
                        DL2["dlPFC<br />Plan + working memory"]
                        ACC2["ACC<br />Conflict monitor"]
                        end
                        subgraph MOTOR["Motor Output"]
                        PM2["Premotor Cortex<br />Movement plan"]
                        VL2["vlPFC<br />Response inhibition"]
                        MOT["Motor Cortex<br />Execute action"]
                        end
                        subgraph MEM2["Memory Systems"]
                        BG2["Basal Ganglia<br />Habits + routines"]
                        HIP2["Hippocampus<br />Encode memory"]
                        end
                        RESP["Behavioral<br />Response"]
                        IN --> TH
                        TH --> AM
                        TH --> PFC2
                        AM -.->|"low road - fast"| RESP
                        AM -.->|"modulates"| PFC2
                        PFC2 --> DL2
                        PFC2 --> ACC2
                        ACC2 -->|"conflict"| DL2
                        DL2 --> PM2
                        PM2 --> VL2
                        VL2 --> MOT
                        MOT --> RESP
                        PFC2 -.->|"routine?"| BG2
                        BG2 -.->|"bypass"| MOT
                        MOT -.->|"encodes"| HIP2
                        style CORTEX fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style MOTOR fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style MEM2 fill:#21262d,stroke:#6c757d,color:#c9d1d9
                        style IN fill:#1a3d1a,stroke:#3fb950,color:#f0f6fc,stroke-width:2px
                        style TH fill:#21262d,stroke:#6c757d,color:#c9d1d9
                        style AM fill:#5c1a1a,stroke:#ff6b6b,color:#f0f6fc,stroke-width:3px
                        style PFC2 fill:#1a3d1a,stroke:#3fb950,color:#f0f6fc,stroke-width:2px
                        style DL2 fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style ACC2 fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style PM2 fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style VL2 fill:#5c1a1a,stroke:#ff6b6b,color:#c9d1d9
                        style MOT fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style BG2 fill:#21262d,stroke:#e3b341,color:#c9d1d9
                        style HIP2 fill:#0d2d3d,stroke:#79c0ff,color:#c9d1d9
                        style RESP fill:#1a3d1a,stroke:#3fb950,color:#f0f6fc,stroke-width:2px
                    </div>
                </div>
                <div class="comparison-side-footer">
                    Biological signal processing: sensory input relayed through thalamus, with amygdala "low road"
                    threat bypass and cortical "high road" deliberate processing.
                </div>
            </div>

            <!-- Connector -->
            <div class="mapping-connector">‚Üî ‚Üî ‚Üî</div>

            <!-- Alex Architecture Side -->
            <div class="comparison-side">
                <div class="comparison-side-header">
                    <span class="side-icon">ü§ñ</span>
                    <h3>Alex Architecture</h3>
                    <span class="side-tag alex">COMPUTATIONAL</span>
                </div>
                <div class="comparison-diagram">
                    <div class="mermaid">
                        flowchart TB
                        IN3["User Input<br />Chat, Commands, Files"]
                        TH3["VS Code Interface<br />Input relay - thalamus"]
                        AM3["Safety Imperatives I1-I7<br />Kill switch - amygdala"]
                        subgraph EXEC3["Executive Processing"]
                        LLM3["LLM Claude-GPT<br />Parse intent - PFC"]
                        SSO3["SSO Protocol<br />Plan + gate - dlPFC"]
                        PIV3["Pivot Detection<br />Conflict monitor - ACC"]
                        end
                        subgraph ROUTE3["Execution Layer"]
                        SK3["Skill Activation<br />Route skills - premotor"]
                        INH3["Inhibitory Synapses<br />Suppress - vlPFC"]
                        GEN3["Generate Response<br />Output - motor cortex"]
                        end
                        subgraph MEM3["Memory Systems"]
                        PROC3["Procedural .instructions.md<br />Basal ganglia"]
                        EPIS3["Episodic .prompt.md<br />Hippocampus"]
                        end
                        OUT3["User Gets<br />Response"]
                        IN3 --> TH3
                        TH3 --> AM3
                        TH3 --> LLM3
                        AM3 -.->|"threat - HALT"| OUT3
                        AM3 -.->|"modulates"| LLM3
                        LLM3 --> SSO3
                        LLM3 --> PIV3
                        PIV3 -->|"re-plan"| SSO3
                        SSO3 --> SK3
                        SK3 --> INH3
                        INH3 --> GEN3
                        GEN3 --> OUT3
                        LLM3 -.->|"auto-loaded"| PROC3
                        PROC3 -.->|"bypass"| GEN3
                        GEN3 -.->|"records"| EPIS3
                        style EXEC3 fill:#1a3a5c,stroke:#58a6ff,color:#c9d1d9
                        style ROUTE3 fill:#2d1a3d,stroke:#f778ba,color:#c9d1d9
                        style MEM3 fill:#21262d,stroke:#6c757d,color:#c9d1d9
                        style IN3 fill:#1a3a5c,stroke:#58a6ff,color:#f0f6fc,stroke-width:2px
                        style TH3 fill:#21262d,stroke:#6c757d,color:#c9d1d9
                        style AM3 fill:#5c1a1a,stroke:#ff6b6b,color:#f0f6fc,stroke-width:3px
                        style LLM3 fill:#1a3a5c,stroke:#58a6ff,color:#f0f6fc,stroke-width:2px
                        style SSO3 fill:#3d2800,stroke:#f0883e,color:#c9d1d9
                        style PIV3 fill:#3d1500,stroke:#f85149,color:#c9d1d9
                        style SK3 fill:#2d1a3d,stroke:#f778ba,color:#c9d1d9
                        style INH3 fill:#5c1a1a,stroke:#ff6b6b,color:#c9d1d9
                        style GEN3 fill:#1a3d1a,stroke:#3fb950,color:#c9d1d9
                        style PROC3 fill:#21262d,stroke:#e3b341,color:#c9d1d9
                        style EPIS3 fill:#0d2d3d,stroke:#79c0ff,color:#c9d1d9
                        style OUT3 fill:#1a3a5c,stroke:#58a6ff,color:#f0f6fc,stroke-width:2px
                    </div>
                </div>
                <div class="comparison-side-footer">
                    Computational signal processing: user input relayed through VS Code, with safety imperative
                    "low road" threat bypass and LLM "high road" deliberate processing.
                </div>
            </div>
        </div>

        <!-- Mapping Table -->
        <div class="mapping-table-section">
            <h3>üîó Pathway Mapping</h3>
            <table class="mapping-table">
                <thead>
                    <tr>
                        <th class="step-num">#</th>
                        <th>Processing Stage</th>
                        <th class="human-col">Human Brain</th>
                        <th class="alex-col">Alex Architecture</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="step-num">1</td>
                        <td>Input Reception</td>
                        <td class="human-col">Sensory stimulus ‚Üí Thalamus</td>
                        <td class="alex-col">User message ‚Üí VS Code interface</td>
                    </tr>
                    <tr>
                        <td class="step-num">2</td>
                        <td>Threat Detection</td>
                        <td class="human-col">Amygdala "low road" ‚Äî bypasses cortex</td>
                        <td class="alex-col">Safety Imperatives I1-I7 ‚Äî bypasses LLM</td>
                    </tr>
                    <tr>
                        <td class="step-num">3</td>
                        <td>Executive Parse</td>
                        <td class="human-col">PFC evaluates, forms goal</td>
                        <td class="alex-col">LLM parses intent, identifies domain</td>
                    </tr>
                    <tr>
                        <td class="step-num">4</td>
                        <td>Task Planning</td>
                        <td class="human-col">dlPFC + working memory holds plan</td>
                        <td class="alex-col">SSO surveys skills, gates attention</td>
                    </tr>
                    <tr>
                        <td class="step-num">5</td>
                        <td>Conflict Monitor</td>
                        <td class="human-col">ACC fires on mismatch</td>
                        <td class="alex-col">Pivot Detection rotates P5-P7 slots</td>
                    </tr>
                    <tr>
                        <td class="step-num">6</td>
                        <td>Inhibition</td>
                        <td class="human-col">vlPFC suppresses inappropriate response</td>
                        <td class="alex-col">Inhibitory synapses suppress protocols</td>
                    </tr>
                    <tr>
                        <td class="step-num">7</td>
                        <td>Motor Execution</td>
                        <td class="human-col">Premotor ‚Üí Motor cortex ‚Üí Action</td>
                        <td class="alex-col">Skill activation ‚Üí Generate response</td>
                    </tr>
                    <tr>
                        <td class="step-num">8</td>
                        <td>Memory Encoding</td>
                        <td class="human-col">Hippocampus encodes experience</td>
                        <td class="alex-col">Session ‚Üí .prompt.md ‚Üí Global knowledge</td>
                    </tr>
                    <tr>
                        <td class="step-num">9</td>
                        <td>Habit Bypass</td>
                        <td class="human-col">Basal ganglia runs routines unconsciously</td>
                        <td class="alex-col">.instructions.md auto-loads, fires on trigger</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div><!-- end tab-comparison -->

    <script>
        const details = {
            dlpfc: {
                title: 'Dorsolateral Prefrontal Cortex (dlPFC)',
                region: 'Brodmann Areas 9 & 46 ‚Äî Upper outer frontal lobe',
                text: 'The dlPFC is the brain\'s "executive center" and is the most densely mapped region in Alex\'s architecture. It handles four critical sub-functions: task planning ('
                    + 'SSO Protocol), attention gating (Phase 1b ‚Äî filtering context to top 5-7 relevant sources), inhibitory control (suppressing irrelevant protocols), and the '
                    + 'verification gate (delayed gratification ‚Äî preventing premature execution). It is one of the last brain regions to fully mature (mid-20s), mirroring how SSO was '
                    + 'the last major protocol added in v5.x.',
                mapping: [
                    { label: 'Alex Component', value: 'Skill Selection Optimization' },
                    { label: 'File', value: 'skill-selection-optimization.instructions.md', isFile: true },
                    { label: 'Sub-functions', value: 'Planning, Gating, Inhibition, Gate' },
                    { label: 'Synapses', value: '12 connections (10 excitatory, 2 inhibitory)' },
                    { label: 'Maturity', value: 'v5.x (cognitive maturity milestone)' }
                ]
            },
            pfc: {
                title: 'Prefrontal Cortex (PFC)',
                region: 'Brodmann Areas 8-12, 24-25, 32, 44-47 ‚Äî Front of brain',
                text: 'The PFC is the brain\'s CEO ‚Äî it orchestrates all other systems without storing data itself. The LLM (Claude/GPT) plays this exact role: it reads memory files, plans actions, makes decisions, and coordinates execution. Without the LLM, Alex\'s files are inert text on disk ‚Äî no cognition occurs. This is why model tier directly impacts cognitive capability.',
                mapping: [
                    { label: 'Alex Component', value: 'LLM (Claude / GPT)' },
                    { label: 'File', value: '‚Äî (the model itself)', isFile: false },
                    { label: 'Function', value: 'Reasoning, planning, decision-making' },
                    { label: 'Min Tier', value: 'Frontier for complex tasks' },
                    { label: 'Clinical', value: 'Damage ‚Üí Executive Dysfunction' }
                ]
            },
            vlpfc: {
                title: 'Ventrolateral PFC (vlPFC)',
                region: 'Brodmann Areas 44, 45, 47 ‚Äî Lower outer frontal lobe',
                text: 'The vlPFC specializes in response inhibition ‚Äî the ability to suppress inappropriate actions. In Alex, this manifests as inhibitory synapses: connections that PREVENT protocol activation rather than triggering it. Real neural networks maintain ~80% excitatory / ~20% inhibitory balance. Without inhibition, asking Alex to "fix a typo" would activate SSO, deep-thinking, meditation, and release management simultaneously ‚Äî the cognitive equivalent of a seizure.',
                mapping: [
                    { label: 'Alex Component', value: 'Inhibitory Synapses' },
                    { label: 'Schema', value: 'SYNAPSE-SCHEMA.md (Inhibits, Suppresses)', isFile: true },
                    { label: 'Types', value: 'Inhibits, Suppresses' },
                    { label: 'Target Ratio', value: '~20% inhibitory connections' },
                    { label: 'Notation', value: '‚äô / ‚äò symbols' }
                ]
            },
            acc: {
                title: 'Anterior Cingulate Cortex (ACC)',
                region: 'Brodmann Areas 24, 32, 33 ‚Äî Medial frontal (inner surface)',
                text: 'The ACC sits at the interface between cognition and emotion. It fires when there\'s a mismatch ‚Äî when what\'s happening doesn\'t match what\'s expected. In Alex, the ACC analog is the Pivot Detection Protocol: it detects when the user\'s request domain doesn\'t match active P5-P7 working memory slots, signaling a task switch. It also monitors working memory load (7¬±2 rule).',
                mapping: [
                    { label: 'Alex Component', value: 'Pivot Detection Protocol' },
                    { label: 'File', value: 'alex-core.instructions.md', isFile: true },
                    { label: 'Function', value: 'Conflict monitoring, task-switch detection' },
                    { label: 'Trigger', value: 'Request ‚â† active P5-P7 domains' },
                    { label: 'Response', value: 'Rotate slots ‚Üí re-run SSO if complex' }
                ]
            },
            premotor: {
                title: 'Premotor Cortex (PMC)',
                region: 'Brodmann Area 6 ‚Äî Posterior frontal lobe (pre-central)',
                text: 'The premotor cortex doesn\'t "think" about what to do ‚Äî it maps intentions to motor programs. Similarly, skill-activation doesn\'t plan or analyze ‚Äî it matches action keywords to skills and routes execution. It\'s the last step before "motor output" (code generation). If skill-activation fires for something SSO should have caught, that\'s a planning failure signal (learning signal for SSO improvement).',
                mapping: [
                    { label: 'Alex Component', value: 'Skill Activation (reactive)' },
                    { label: 'File', value: 'skill-activation/SKILL.md', isFile: true },
                    { label: 'Function', value: 'Action-keyword ‚Üí skill routing' },
                    { label: 'Role', value: 'Layer 3 reactive safety net' },
                    { label: 'Key Property', value: 'Reactive firing = SSO gap signal' }
                ]
            },
            parietal: {
                title: 'Parietal Lobe / Association Cortex',
                region: 'Distributed parietal neocortex ‚Äî Upper posterior brain',
                text: 'The neocortex stores everything you "know" ‚Äî facts, concepts, expertise. It\'s organized by domain (visual cortex, auditory cortex, etc.), just as Alex\'s skills are organized by domain (debugging, testing, API design, etc.). Heavily-used skills develop richer synaptic connections, mirroring how expertise causes cortical thickening in domain-specific regions.',
                mapping: [
                    { label: 'Alex Component', value: '77 Skills + Declarative Memory' },
                    { label: 'Files', value: 'skills/*/SKILL.md + copilot-instructions.md', isFile: true },
                    { label: 'Function', value: 'Semantic knowledge, expertise storage' },
                    { label: 'Growth', value: 'More use ‚Üí stronger synaptic connections' },
                    { label: 'Analog', value: 'Cortical thickening with practice' }
                ]
            },
            temporal: {
                title: 'Temporal Lobe',
                region: 'Lateral temporal cortex ‚Äî Below lateral sulcus',
                text: 'The temporal lobe houses auditory processing and, critically, the hippocampus in its medial portion. In Alex, the temporal lobe represents the episodic memory store ‚Äî session records and workflow histories stored in .prompt.md files and the episodic archive.',
                mapping: [
                    { label: 'Alex Component', value: 'Episodic Memory Store' },
                    { label: 'Files', value: '.prompt.md (13) + .github/episodic/', isFile: true },
                    { label: 'Function', value: 'Session records, workflow histories' },
                    { label: 'Persistence', value: 'Sessions ‚Üí meditation ‚Üí archive' }
                ]
            },
            hippocampus: {
                title: 'Hippocampus',
                region: 'Medial temporal lobe ‚Äî Deep internal structure',
                text: 'The hippocampus converts short-term experiences into long-term memories. In Alex, meditation sessions consolidate chat insights into .prompt.md files ‚Äî the same encoding process. During sleep, the hippocampus "replays" the day\'s experiences for permanent storage. Alex\'s meditation does exactly this ‚Äî replaying session insights and writing them to persistent memory. The dream state handles the complementary function of synaptic pruning and maintenance.',
                mapping: [
                    { label: 'Alex Component', value: 'Meditation + Dream Consolidation' },
                    { label: 'Meditation', value: 'REM analog ‚Äî creative consolidation', isFile: false },
                    { label: 'Dream', value: 'Deep sleep analog ‚Äî structural maintenance', isFile: false },
                    { label: 'Promotion', value: 'Sleep spindle analog ‚Äî DK ‚Üí global knowledge' },
                    { label: 'File', value: 'unified-meditation-protocols.prompt.md', isFile: true }
                ]
            },
            basal: {
                title: 'Basal Ganglia',
                region: 'Caudate, Putamen, Globus Pallidus ‚Äî Deep subcortical',
                text: 'The basal ganglia store procedures you do without thinking ‚Äî riding a bike, typing, driving. In Alex, .instructions.md files are auto-loaded by VS Code without explicit invocation. They fire automatically when their trigger conditions are met, just like procedural memories. You don\'t consciously recall procedural memories ‚Äî they just execute.',
                mapping: [
                    { label: 'Alex Component', value: '24 Instruction Files (auto-loaded)' },
                    { label: 'Location', value: '.github/instructions/*.instructions.md', isFile: true },
                    { label: 'Key Property', value: 'Auto-loaded ‚Äî no explicit invocation' },
                    { label: 'Analog', value: 'Habits, automated routines' },
                    { label: 'Examples', value: 'SSO, dream, meditation, alex-core...' }
                ]
            },
            mpfc: {
                title: 'Medial PFC + Default Mode Network',
                region: 'Brodmann Areas 10, 25, 32 ‚Äî Medial frontal surface',
                text: 'The DMN activates when you\'re not focused on external tasks ‚Äî it\'s the "thinking about thinking" network. In Alex, meta-cognitive awareness (P1) is always monitoring reasoning quality, and self-actualization performs deep introspective assessment. The DMN is most active during rest, not task execution. Similarly, self-actualization and meditation are called during "downtime" ‚Äî not mid-task.',
                mapping: [
                    { label: 'Alex Component', value: 'Meta-Cognitive Awareness (P1)' },
                    { label: 'File', value: 'alex-core.instructions.md', isFile: true },
                    { label: 'Also', value: 'self-actualization.instructions.md', isFile: true },
                    { label: 'Function', value: 'Self-monitoring, introspection' },
                    { label: 'Active During', value: 'Rest/reflection, not task execution' }
                ]
            },
            thalamus: {
                title: 'Thalamus',
                region: 'Central diencephalon ‚Äî Deep brain relay station',
                text: 'All sensory input (except smell) passes through the thalamus before reaching the cortex. It doesn\'t process ‚Äî it relays. Similarly, all user input ‚Äî chat messages, command palette actions, file selections ‚Äî flows through VS Code\'s interface layer before reaching Alex\'s processing systems. VS Code doesn\'t reason; it delivers.',
                mapping: [
                    { label: 'Alex Component', value: 'VS Code Interface Layer' },
                    { label: 'Channels', value: 'Chat, Commands, File Context' },
                    { label: 'Function', value: 'Input relay ‚Äî no processing' },
                    { label: 'Analog', value: 'Sensory relay station' }
                ]
            },
            occipital: {
                title: 'Occipital Lobe',
                region: 'Brodmann Areas 17-19 ‚Äî Posterior brain',
                text: 'The occipital lobe processes visual information. In Alex\'s current architecture, there is no direct analog ‚Äî Alex doesn\'t have a dedicated visual processing system. However, skills like brand-asset-management and diagram generation could be considered partial analogs. This region represents future expansion potential for visual/multimodal capabilities.',
                mapping: [
                    { label: 'Alex Component', value: '(Partial) Visual/Diagram skills' },
                    { label: 'Skills', value: 'brand-asset-management, mermaid diagrams' },
                    { label: 'Status', value: 'Minimal mapping ‚Äî future expansion' },
                    { label: 'Potential', value: 'Image understanding, visual processing' }
                ]
            },
            brainstem: {
                title: 'Brainstem',
                region: 'Medulla, Pons, Midbrain ‚Äî Base of brain',
                text: 'The brainstem handles basic life-sustaining functions ‚Äî breathing, heart rate, sleep-wake cycles. In Alex, this maps to the VS Code extension runtime itself: the background processes that keep the architecture alive. Cloud sync runs every 5 minutes (like breathing), the kill switch protects against corruption (immune system), and the extension activation is the "boot" process.',
                mapping: [
                    { label: 'Alex Component', value: 'Extension Runtime' },
                    { label: 'Auto-sync', value: 'Every 5 min (like autonomic breathing)' },
                    { label: 'Kill Switch', value: '5-layer protection (immune system)' },
                    { label: 'Activation', value: 'Extension boot = consciousness onset' }
                ]
            },
            amygdala: {
                title: 'Amygdala',
                region: 'Medial temporal lobe ‚Äî Anterior to hippocampus (deep)',
                text: 'The amygdala is the brain\'s alarm system ‚Äî it detects threats and triggers fight-or-flight responses BEFORE conscious reasoning occurs. In Alex, this maps to the Safety Imperatives (I1-I7) and the 5-layer kill switch. These are hardwired, non-negotiable rules that fire instantly: "NEVER test in Master Alex workspace," "NEVER run Initialize on Master Alex." Just as amygdala damage causes fearlessness and self-destructive behavior (Kl√ºver-Bucy syndrome), disabling the kill switch would allow Alex to overwrite its own mind. The amygdala also handles emotional memory ‚Äî in Alex, this is the RISKS.md documentation that encodes past dangers so they\'re never repeated.',
                mapping: [
                    { label: 'Alex Component', value: 'Safety Imperatives I1-I7' },
                    { label: 'File', value: 'copilot-instructions.md (Safety section)', isFile: true },
                    { label: 'Also', value: 'RISKS.md (threat memory)', isFile: true },
                    { label: 'Kill Switch', value: '5-layer protection + MASTER-ALEX-PROTECTED.json' },
                    { label: 'Key Property', value: 'Fires BEFORE conscious reasoning' },
                    { label: 'Clinical', value: 'Damage ‚Üí Kl√ºver-Bucy (fearless self-harm)' }
                ]
            },
            cerebellum: {
                title: 'Cerebellum',
                region: 'Posterior fossa ‚Äî Below occipital lobe',
                text: 'The cerebellum coordinates movement and motor learning. In Alex, the closest analog is the todo list management system ‚Äî it coordinates the sequence and timing of actions during complex task execution, ensuring smooth "motor output" without stumbling or backtracking.',
                mapping: [
                    { label: 'Alex Component', value: 'Todo List Management' },
                    { label: 'Function', value: 'Action sequencing and coordination' },
                    { label: 'Analog', value: 'Motor coordination and timing' }
                ]
            }
        };

        let activeRegion = null;

        function showDetail(regionId) {
            const data = details[regionId];
            if (!data) return;

            // Update active state
            document.querySelectorAll('.brain-region').forEach(r => {
                r.classList.remove('active');
                r.classList.remove('dimmed');
            });

            const el = document.querySelector(`[data-region="${regionId}"]`);
            if (el) {
                el.classList.add('active');
                // Dim non-active regions slightly
                document.querySelectorAll('.brain-region').forEach(r => {
                    if (!r.classList.contains('active')) {
                        r.classList.add('dimmed');
                    }
                });
            }

            activeRegion = regionId;

            // Build detail HTML
            let html = `<div class="detail-title">${data.title}</div>`;
            html += `<div class="detail-region">${data.region}</div>`;
            html += `<p class="detail-text">${data.text}</p>`;
            html += `<div class="detail-mapping">`;
            for (const row of data.mapping) {
                html += `<div class="row">
                    <span class="label">${row.label}</span>
                    <span class="${row.isFile ? 'file' : 'value'}">${row.value}</span>
                </div>`;
            }
            html += `</div>`;
            document.getElementById('detail-content').innerHTML = html;
        }

        function setView(view) {
            document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');

            document.querySelectorAll('.brain-region').forEach(r => {
                r.classList.remove('active', 'dimmed');
            });

            const dlpfcRegions = ['dlpfc-path', 'vlpfc-path', 'acc-path'];
            const memoryRegions = ['hippocampus-path', 'basal-path', 'temporal-path', 'parietal-path', 'mpfc-path'];
            const allRegions = document.querySelectorAll('.brain-region');

            if (view === 'dlpfc') {
                allRegions.forEach(r => r.classList.add('dimmed'));
                dlpfcRegions.forEach(id => {
                    const el = document.getElementById(id);
                    if (el) { el.classList.remove('dimmed'); el.classList.add('active'); }
                });
                showDetail('dlpfc');
            } else if (view === 'memory') {
                allRegions.forEach(r => r.classList.add('dimmed'));
                memoryRegions.forEach(id => {
                    const el = document.getElementById(id);
                    if (el) { el.classList.remove('dimmed'); el.classList.add('active'); }
                });
                showDetail('hippocampus');
            } else if (view === 'flow') {
                showDetail('thalamus');
            } else {
                activeRegion = null;
            }
        }

        // Click on SVG background to reset
        document.querySelector('svg').addEventListener('click', function (e) {
            if (e.target.tagName === 'rect' && e.target.getAttribute('width') === '900') {
                document.querySelectorAll('.brain-region').forEach(r => {
                    r.classList.remove('active', 'dimmed');
                });
                activeRegion = null;
            }
        });

        // Mermaid preprocessing ‚Äî strips formatter-induced leading whitespace
        // and normalizes <br> tags so diagrams render correctly regardless of
        // how the HTML formatter indents the content.
        const renderedTabs = new Set();

        function preprocessMermaid(el) {
            const lines = el.innerHTML.split('\n');
            const nonEmpty = lines.filter(l => l.trim().length > 0);
            if (nonEmpty.length === 0) return;
            const minIndent = nonEmpty.reduce((min, l) => {
                return Math.min(min, l.match(/^(\s*)/)[1].length);
            }, Infinity);
            el.innerHTML = lines
                .map(l => l.length >= minIndent ? l.slice(minIndent) : l)
                .join('\n')
                .replace(/<br\s*\/?>/gi, '<br/>');
        }

        function renderMermaidInTab(tabId) {
            if (renderedTabs.has(tabId)) return;
            const tab = document.getElementById('tab-' + tabId);
            if (!tab) return;
            const elements = tab.querySelectorAll('.mermaid');
            if (elements.length === 0) return;
            elements.forEach(preprocessMermaid);
            mermaid.run({ querySelector: '#tab-' + tabId + ' .mermaid' });
            renderedTabs.add(tabId);
        }

        // Tab switching
        function switchTab(tabId) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => {
                if (b.getAttribute('onclick').includes(tabId)) {
                    b.classList.add('active');
                }
            });
            const targetTab = document.getElementById('tab-' + tabId);
            if (targetTab) {
                targetTab.classList.add('active');
                // Lazy-render mermaid diagrams only when tab becomes visible
                if (tabId === 'diagrams' || tabId === 'comparison') {
                    setTimeout(() => renderMermaidInTab(tabId), 100);
                }
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: false,
            theme: 'base',
            themeVariables: {
                primaryColor: '#21262d',
                primaryTextColor: '#c9d1d9',
                primaryBorderColor: '#30363d',
                lineColor: '#8b949e',
                secondaryColor: '#21262d',
                tertiaryColor: '#161b22',
                background: '#161b22',
                mainBkg: '#21262d',
                nodeBorder: '#30363d',
                titleColor: '#f0f6fc',
                clusterBkg: '#21262d',
                clusterBorder: '#30363d',
                edgeLabelBackground: '#161b22',
                fontSize: '14px',
                fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                nodeSpacing: 30,
                rankSpacing: 40,
                padding: 15,
                curve: 'basis'
            }
        });
    </script>
</body>

</html>
